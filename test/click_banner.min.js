var service_list_ab_0 = {
    "Flight insurance": "InsuranceFlight",
    "Aeroexpress": "AeroExpress",
    "Medical insurance": "InsuranceMedical",
    "Rent car": "Car",
    "Rent hotel": "Hotel"
};

var service_list_ab_1 = {
    "полетная страховка": "InsuranceFlight",
    "аэроэкспресс": "AeroExpress",
    "медицинская страховка": "InsuranceMedical",
    "аренда авто": "Car",
    "отели": "Hotel",
  	"выбор мест":"select_seats",
  	"багаж":"excess_baggage",
  	"меню":"paid_meal"
};  
  
(function() {
    try {
        document.body.addEventListener("click", function(event) {
            if (event.target && event.target.tagName.toLocaleLowerCase() == "a" || event.target.parentNode && event.target.parentNode.tagName.toLocaleLowerCase() == "a") {
                var elem = event.target;          
                    if (elem.className == "upsale-card__img-img"|| elem.parentNode.className == "upsale-card__title"|| elem.className == "button upsale-card__button" ) {
                        dataLayerSU.push({
                            event: "AeroinformEvent_78_1",
                            eventCategory: "ab_test",
                            eventAction: "click_service-card",
                            eventLabel: service_list_ab_0[elem.closest(".upsale-card").querySelector(".upsale-card__img-img").getAttribute("alt")]
                        });
                    } else if (elem.className == "button upsale-card__button " || elem.className == "button upsale-card__button placesBtn" || elem.className == "services-item_image" || elem.className == "services-item_title" || elem.parentNode.className == "services-item_title") {
                        dataLayerSU.push({
                            event: "AeroinformEvent_78_1",
                            eventCategory: "ab_test",
                            eventAction: "click_service-card",
                          	eventLabel: service_list_ab_1[elem.closest(".services-item").querySelector(".services-item_title").innerText.toLowerCase()]
                        });                       
                    } else if (elem.className=="button passanger-info__register-button button--outline toggle-target toggle-target--inline-block") {
                        dataLayerSU.push({
                            event: "AeroinformEvent_78_1",
                            eventCategory: "ab_test",
                            eventAction: "click_btn-go-to-special-services_orgigin",
                          	eventLabel: "select_seats"
                        });                       
                    }
                    elem = elem.parentNode;
                
            }
        }, false);
  
  document.body.addEventListener("click", function(event) {
            if (event.target && event.target.tagName.toLocaleLowerCase() == "button") {
                var elem = event.target;          
                    if (elem.className == "button button--wide button--outline h-height--full" && elem.textContent == "Выбрать места" && elem.getAttributeNode("disabled") == null) {
                        dataLayerSU.push({
                            event: "AeroinformEvent_78_1",
                            eventCategory: "ab_test",
                            eventAction: "click_btn-go-to-special-services_flight_info",
                            eventLabel: "select_seats"
                        });
                    } else if (elem.className == "button button--wide button--outline h-height--full" && elem.textContent == "Посмотреть выбранные места" && elem.getAttributeNode("disabled") == null) {
                        dataLayerSU.push({
                            event: "AeroinformEvent_78_1",
                            eventCategory: "ab_test",
                            eventAction: "click_btn-go-to-special-services_flight_info",
                            eventLabel: "selected_seats_yet"
                        });
                    } 
                    elem = elem.parentNode;
                
            }
        }, false);
  
  document.body.addEventListener("click", function(event) {
                	var elem = event.target;          
                    if (elem.className == "frame__collapsed passangerInfoToggle" && elem.parentNode.id =="passengerData" || elem.className == "frame__collapsed-label-hide" && elem.parentNode.parentNode.id =="passengerData") {
                        dataLayerSU.push({
                            event: "AeroinformEvent_78_1",
                            eventCategory: "ab_test",
                            eventAction: "unroll_block",
                            eventLabel: "passengerData"
                        });
                    }
                    elem = elem.parentNode;               
        }, false);
    } catch (err) {
        console.warn("nope");
    }
})();  
