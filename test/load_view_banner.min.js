function f() {
    try {
      /*
        var isMobile = navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i);
        var ua = window.navigator.userAgent;
        var msie = ua.indexOf("MSIE ");

        if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./) || isMobile) {
            return;
        }
        */
      var isInViewport = function(elem) {
            var bounding = elem.getBoundingClientRect();
          	if (!bounding || bounding.width == 0) {
              return false;
            }
            return (
                bounding.top >= - (bounding.bottom - bounding.top) * 0.25 &&
                bounding.left >= - (bounding.right - bounding.left) * 0.25 &&
                bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) + (bounding.bottom - bounding.top) * 0.25 &&
                bounding.right <= (window.innerWidth || document.documentElement.clientWidth) + (bounding.right - bounding.left) * 0.25
            );
        };

        var view_page = [];
        var view_serv_page = [];
        var view_03 = [];
        var view_04 = true;
        var loaded_view_page = [];
        var loaded_view_serv_page = [];
        var loaded_view_03 = []

        setInterval(function() {

            for (var i = 0; i < document.getElementsByClassName("button button--wide button--outline h-height--full").length; ++i) {
                (function() {
                    var id = i;

                    if ((loaded_view_page[id] != 1) && (document.getElementsByClassName("button button--wide button--outline h-height--full")[id].textContent == "Проверить возможность повышения")) {

                        dataLayerSU.push({
                            event: window.eventName,
                            eventCategory: "ab_test",
                            eventAction: "load_orgigin_service",
                            eventLabel: "Vozmozhnost_povysheniya"
                        });

                        loaded_view_page[id] = 1;
                    }
    
                    if (isInViewport(document.getElementsByClassName("button button--wide button--outline h-height--full")[id]) && view_page[id] != 1 && document.getElementsByClassName("button button--wide button--outline h-height--full")[id].textContent == "Проверить возможность повышения") {

                        dataLayerSU.push({
                            event: window.eventName,
                            eventCategory: "ab_test",
                            eventAction: "view_orgigin_service",
                            eventLabel: "Vozmozhnost_povysheniya"
                        });

                        view_page[id] = 1;
                    }
                  
                  if ((loaded_view_page[id] != 1) && (document.getElementsByClassName("button button--wide button--outline h-height--full")[id].textContent == "Выбрать места") && document.getElementsByClassName("button button--wide button--outline h-height--full")[id].getAttributeNode("disabled") == null) {

                        dataLayerSU.push({
                            event: window.eventName,
                            eventCategory: "ab_test",
                            eventAction: "load_orgigin_service_flight_info",
                            eventLabel: "select_seats"
                        });

                        loaded_view_page[id] = 1;
                    }
    
                    if (isInViewport(document.getElementsByClassName("button button--wide button--outline h-height--full")[id]) && view_page[id] != 1 && document.getElementsByClassName("button button--wide button--outline h-height--full")[id].textContent == "Выбрать места" && document.getElementsByClassName("button button--wide button--outline h-height--full")[id].getAttributeNode("disabled") == null) {

                        dataLayerSU.push({
                            event: window.eventName,
                            eventCategory: "ab_test",
                            eventAction: "view_orgigin_service_flight_info",
                            eventLabel: "select_seats"
                        });

                        view_page[id] = 1;
                    }
                  
                  if ((loaded_view_page[id] != 1) && (document.getElementsByClassName("button button--wide button--outline h-height--full")[id].textContent == "Посмотреть выбранные места") && document.getElementsByClassName("button button--wide button--outline h-height--full")[id].getAttributeNode("disabled") == null) {

                        dataLayerSU.push({
                            event: window.eventName,
                            eventCategory: "ab_test",
                            eventAction: "load_orgigin_service_flight_info",
                            eventLabel: "selected_seats_yet"
                        });

                        loaded_view_page[id] = 1;
                    }
    
                    if (isInViewport(document.getElementsByClassName("button button--wide button--outline h-height--full")[id]) && view_page[id] != 1 && document.getElementsByClassName("button button--wide button--outline h-height--full")[id].textContent == "Посмотреть выбранные места" && document.getElementsByClassName("button button--wide button--outline h-height--full")[id].getAttributeNode("disabled") == null) {

                        dataLayerSU.push({
                            event: window.eventName,
                            eventCategory: "ab_test",
                            eventAction: "view_orgigin_service_flight_info",
                            eventLabel: "selected_seats_yet"
                        });

                        view_page[id] = 1;
                    }
                                                            
                })();
            }

            for (var i = 0; i < document.getElementsByClassName("button passanger-info__register-button button--outline toggle-target toggle-target--inline-block").length; ++i) {
                (function() {
                    var id = i;

                    if ((loaded_view_serv_page[id] != 1) && (document.getElementsByClassName("button passanger-info__register-button button--outline toggle-target toggle-target--inline-block")[id].textContent == "ВЫБРАТЬ МЕСТА")) {

                        dataLayerSU.push({
                            event: window.eventName,
                            eventCategory: "ab_test",
                            eventAction: "load_orgigin_service",
                            eventLabel: "select_seats"
                        });

                        loaded_view_serv_page[id] = 1;
                    }
    
                    if (isInViewport(document.getElementsByClassName("button passanger-info__register-button button--outline toggle-target toggle-target--inline-block")[id]) && view_serv_page[id] != 1 && document.getElementsByClassName("button passanger-info__register-button button--outline toggle-target toggle-target--inline-block")[id].textContent == "ВЫБРАТЬ МЕСТА") {

                        dataLayerSU.push({
                            event: window.eventName,
                            eventCategory: "ab_test",
                            eventAction: "view_orgigin_service",
                            eventLabel: "select_seats"
                        });

                        view_serv_page[id] = 1;
                    }
                })();
            }

          //for (var i = 0; i < document.getElementsByClassName("button button--outline button--wide").length; ++i) {
                (function() {
                    //var id = i;
                  	if (document.querySelector("#specialFood") && document.querySelector("#specialFood").getElementsByClassName("button button--outline button--wide")[0] && isInViewport(document.querySelector("#specialFood").getElementsByClassName("button button--outline button--wide")[0]) && (view_04 == true) && document.querySelector("#specialFood").getElementsByClassName("button button--outline button--wide")[0].innerText == "ВЫБРАТЬ МЕНЮ НА ЗАКАЗ") {

                        dataLayerSU.push({
                            event: window.eventName,
                            eventCategory: "ab_test",
                            eventAction: "view_orgigin_service",
                            eventLabel: "paid_meal"
                        });

                        view_04 = false;
                    }
                })();
            //}
          
            for (var i = 0; i < document.getElementsByClassName("button button--outline button--wide").length; ++i) {
                (function() {
                    var id = i;

                    if (isInViewport(document.getElementsByClassName("button button--outline button--wide")[id]) && (view_03 != 1) && document.getElementsByClassName("button button--outline button--wide")[id].textContent == "Заказать дополнительные места багажа") {

                        dataLayerSU.push({
                            event: window.eventName,
                            eventCategory: "ab_test",
                            eventAction: "view_orgigin_service",
                            eventLabel: "excess_baggage"
                        });

                        view_03 = 1;
                    }
                })();
            }            
        }, 500);
    } catch (err) {
        console.warn(err);
    }
}
setTimeout(f, 1000);
